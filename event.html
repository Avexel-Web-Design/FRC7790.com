<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <link rel="shortcut icon" type="image/svg+xml" href="public/assets/images/logo.svg" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Event Details - Baywatch Robotics | FRC Team 7790</title>
    <meta
      name="description"
      content="Live results and event details for FRC Team 7790 Baywatch Robotics."
    />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="public/js/search.js" defer></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              "baywatch-orange": "#FF6B00",
              "baywatch-dark": "#1A1A1A",
            },
            fontFamily: {
              poppins: ["Poppins", "sans-serif"],
            },
          },
        },
      };
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="public/styles/main.css" rel="stylesheet" />
    <script src="public/js/animations.js" defer></script>
    <script src="public/js/frc-api.js" defer></script>
    <script src="public/js/frc-api-2.js" defer></script>
    <script src="public/js/frc-api-3.js" defer></script>
    <script src="public/js/frc-api-4.js" defer></script>
    <script src="public/js/frc-api-5.js" defer></script>
    <script src="public/js/frc-api-6.js" defer></script>
    <script src="public/js/frc-api-7.js" defer></script>
    <script src="public/js/frc-api-8.js" defer></script>
    <script src="public/js/frc-api-9.js" defer></script>
    <script src="public/js/frc-api-10.js" defer></script>
    <script src="public/js/frc-api-11.js" defer></script>
    <script src="public/js/frc-api-12.js" defer></script>
    <script src="public/js/frc-api-13.js" defer></script>
    <script src="public/js/frc-api-14.js" defer></script>
    <script src="public/js/frc-api-15.js" defer></script>
    <script src="public/js/frc-api-16.js" defer></script>
    <script src="public/js/frc-api-17.js" defer></script>
    <script src="public/js/frc-api-18.js" defer></script>
    <script src="public/js/frc-api-19.js" defer></script>
    <script src="public/js/frc-api-20.js" defer></script>
    <script src="public/js/statbotics.js" defer></script>
    <script src="public/js/search.js" defer></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <style>
      /* Sortable table styling */
      #rankings-table th {
        position: relative;
        transition: background-color 0.2s;
      }
      
      #rankings-table th:hover {
        background-color: rgba(255, 107, 0, 0.1);
      }
      
      .sort-indicator {
        display: inline-flex;
        margin-left: 4px;
      }
      
      /* Animate table rows when sorting */
      #rankings-table tbody tr {
        transition: all 0.3s ease-out;
      }
    </style>
      <style>
        /* Custom animations and effects that can't be done with Tailwind alone */
        @keyframes float {
          0% { transform: translateY(0px); }
          50% { transform: translateY(-5px); }
          100% { transform: translateY(0px); }
        }
        
        @keyframes pulse-glow {
          0% { box-shadow: 0 0 5px 0px rgba(255, 107, 0, 0.3), 0 0 10px 2px rgba(255, 107, 0, 0.2), 0 0 0 0px rgba(255, 107, 0, 0.1); }
          50% { box-shadow: 0 0 10px 1px rgba(255, 107, 0, 0.4), 0 0 15px 3px rgba(255, 107, 0, 0.3), 0 0 0 1px rgba(255, 107, 0, 0.2); }
          100% { box-shadow: 0 0 5px 0px rgba(255, 107, 0, 0.3), 0 0 10px 2px rgba(255, 107, 0, 0.2), 0 0 0 0px rgba(255, 107, 0, 0.1); }
        }
  
        @keyframes pulse-badge {
          0% { transform: scale(0.8); opacity: 0.8; }
          50% { transform: scale(1.2); opacity: 1; }
          100% { transform: scale(0.8); opacity: 0.8; }
        }
        
        @keyframes scan {
          0%, 100% { left: -150%; opacity: 0; }
          5% { opacity: 0.5; }
          45%, 55% { left: 150%; opacity: 0.5; }
          99% { opacity: 0; }
        }
        
        @keyframes rotate-gradient {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        
        /* Tech navbar clip paths */
        .tech-nav {
          clip-path: polygon(
            0% 0%, 
            3% 6%, 
            97% 6%, 
            100% 0%, 
            100% 70%, 
            97% 100%, 
            3% 100%, 
            0% 70%
          );
        }
        
        .tech-nav.scrolled {
          clip-path: polygon(0% 0%, 100% 0%, 99% 100%, 1% 100%);
        }
        
        .tech-search-clip {
          clip-path: polygon(
            0% 0%, 
            95% 0%, 
            100% 50%, 
            95% 100%, 
            0% 100%
          );
        }
        
        .mobile-nav-clip {
          clip-path: polygon(
            0% 0%, 
            100% 0%, 
            90% 100%, 
            10% 100%
          );
        }
        
        /* Special effects */
        .nav-link {
          position: relative;
          transition: color 0ms; /* Immediate color change */
        }
        
        .nav-link::after {
          content: attr(data-text);
          position: absolute;
          left: 0;
          top: 0;
          width: 0;
          color: #FF6B00;
          white-space: nowrap;
          overflow: hidden;
          transition: width 0.4s cubic-bezier(0.16, 1, 0.3, 1);
          text-shadow: 0 0 8px rgba(255, 107, 0, 0.4);
        }
        
        .nav-link.active, 
        .nav-link:hover {
          color: transparent; /* Hide original text */
        }
        
        .nav-link.active::after,
        .nav-link:hover::after {
          width: 100%;
        }
        
        /* Scanning light effect */
        .tech-nav::after {
          content: '';
          position: absolute;
          top: 0;
          left: -150%;
          width: 80%;
          height: 100%;
          background: linear-gradient(
            90deg,
            transparent,
            rgba(255, 107, 0, 0.05),
            rgba(255, 255, 255, 0.08),
            rgba(255, 107, 0, 0.05),
            transparent
          );
          transform: skewX(-15deg);
          animation: scan 10s infinite;
        }
        
        .nav-module::before {
          content: '';
          position: absolute;
          inset: -1px;
          background: linear-gradient(45deg, rgba(255,107,0,0), rgba(255,107,0,0.3), rgba(255,107,0,0));
          border-radius: inherit;
          opacity: 0;
          transition: opacity 0.4s ease;
        }
        
        .nav-module:hover::before {
          opacity: 1;
          animation: rotate-gradient 2s linear infinite;
        }
        
        .mobile-nav-item::before {
          content: '';
          position: absolute;
          left: -100%;
          top: 0;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255, 107, 0, 0.1), transparent);
          transition: left 0.6s ease;
        }
        
        .mobile-nav-item:hover::before {
          left: 100%;
        }
        
        .tech-logo::after {
          content: '';
          position: absolute;
          top: -3px;
          left: -3px;
          right: -3px;
          bottom: -3px;
          border: 1px solid rgba(255, 107, 0, 0.3);
          opacity: 0;
          transition: all 0.3s ease;
        }
        
        .tech-logo:hover::after {
          opacity: 1;
          top: 3px;
          left: 3px;
          filter: hue-rotate(60deg);
        }
      </style>
    </head>
    <body class="bg-baywatch-dark text-white overflow-x-hidden font-poppins">
      <!-- Futuristic Tech-Inspired Navigation Bar with Tailwind CSS -->
      <nav id="navbar" class="fixed top-6 left-0 right-0 z-50 px-4 [perspective:2000px] [perspective-origin:center_top]">
        <div class="tech-nav relative mx-auto max-w-5xl py-2 px-3 md:px-6 
                    bg-[rgba(8,8,12,0.85)] backdrop-blur-xl border border-[rgba(255,107,0,0.15)] 
                    transition-all duration-500 ease-[cubic-bezier(0.23,1,0.32,1)]
                    shadow-[0_5px_15px_rgba(0,0,0,0.2),inset_0_0_1px_rgba(255,107,0,0.3)]
                    hover:border-[rgba(255,107,0,0.3)] 
                    hover:shadow-[0_7px_25px_rgba(0,0,0,0.3),0_0_15px_rgba(255,107,0,0.15),inset_0_0_2px_rgba(255,107,0,0.5)]">
          
          <!-- Circuit pattern overlay -->
          <div class="absolute inset-0 z-[-1] opacity-80 
                      bg-[linear-gradient(to_right,rgba(255,107,0,0.03)_1px,transparent_1px),linear-gradient(to_bottom,rgba(255,107,0,0.03)_1px,transparent_1px)] 
                      bg-[size:20px_20px] [mask-image:linear-gradient(to_right,transparent,black_20%,black_80%,transparent)]"></div>
          
          <div class="flex items-center justify-between">
            <!-- Logo Section with glitch effect -->
            <div class="tech-logo relative flex items-center transition-all duration-300">
              <a href="index.html#" class="flex items-center hover:scale-110 transition-transform duration-300 hover:drop-shadow-[0_0_8px_rgba(255,107,0,0.7)]">
                <img src="public/assets/images/logo.svg" alt="Baywatch Robotics Logo" class="w-12 h-12 md:w-14 md:h-14">
                <span class="hidden md:block ml-2 text-xs uppercase tracking-[0.2em] text-gray-400 font-semibold">
                  FRC<span class="text-baywatch-orange">7790</span>
                </span>
              </a>
            </div>
            
            <!-- Desktop Menu with tech styling -->
            <div class="hidden md:flex items-center space-x-1">
              <div class="nav-module px-4 py-1 rounded-sm mx-1 hover:scale-105 relative overflow-hidden
                          transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                          bg-gradient-to-br from-[rgba(26,26,26,0.8)] to-[rgba(15,15,15,0.95)]
                          border border-[rgba(255,255,255,0.05)] [transform:perspective(500px)_translateZ(0)]
                          hover:[transform:perspective(500px)_translateZ(10px)]
                          hover:shadow-[0_5px_15px_rgba(0,0,0,0.2),0_0_5px_rgba(255,107,0,0.3)]">
                <a href="robots.html" class="nav-link block relative font-medium text-sm py-1 text-gray-300 transition-all duration-400" data-text="Robots">
                  Robots
                </a>
              </div>
              <div class="nav-module px-4 py-1 rounded-sm mx-1 hover:scale-105 relative overflow-hidden
                          transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                          bg-gradient-to-br from-[rgba(26,26,26,0.8)] to-[rgba(15,15,15,0.95)]
                          border border-[rgba(255,255,255,0.05)] [transform:perspective(500px)_translateZ(0)]
                          hover:[transform:perspective(500px)_translateZ(10px)]
                          hover:shadow-[0_5px_15px_rgba(0,0,0,0.2),0_0_5px_rgba(255,107,0,0.3)]">
                <a href="sponsors.html" class="nav-link block relative font-medium text-sm py-1 text-gray-300 transition-all duration-400" data-text="Sponsors">
                  Sponsors
                </a>
              </div>
              <div class="nav-module px-4 py-1 rounded-sm mx-1 hover:scale-105 relative overflow-hidden
                          transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                          bg-gradient-to-br from-[rgba(26,26,26,0.8)] to-[rgba(15,15,15,0.95)]
                          border border-[rgba(255,255,255,0.05)] [transform:perspective(500px)_translateZ(0)]
                          hover:[transform:perspective(500px)_translateZ(10px)]
                          hover:shadow-[0_5px_15px_rgba(0,0,0,0.2),0_0_5px_rgba(255,107,0,0.3)]">
                <a href="schedule.html" class="nav-link block relative font-medium text-sm py-1 text-gray-300 transition-all duration-400" data-text="Schedule">
                  Schedule
                </a>
              </div>
              <div class="nav-module px-4 py-1 rounded-sm mx-1 hover:scale-105 relative overflow-hidden
                          transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                          bg-gradient-to-br from-[rgba(26,26,26,0.8)] to-[rgba(15,15,15,0.95)]
                          border border-[rgba(255,255,255,0.05)] [transform:perspective(500px)_translateZ(0)]
                          hover:[transform:perspective(500px)_translateZ(10px)]
                          hover:shadow-[0_5px_15px_rgba(0,0,0,0.2),0_0_5px_rgba(255,107,0,0.3)]">
                <a href="scouting.html" class="nav-link block relative font-medium text-sm py-1 text-gray-300 transition-all duration-400" data-text="Scouting">
                  Scouting
                </a>
              </div>
              <div class="nav-module px-4 py-1 rounded-sm mx-1 hover:scale-105 relative overflow-hidden
                          transition-all duration-300 ease-[cubic-bezier(0.34,1.56,0.64,1)]
                          bg-gradient-to-br from-[rgba(26,26,26,0.8)] to-[rgba(15,15,15,0.95)]
                          border border-[rgba(255,255,255,0.05)] [transform:perspective(500px)_translateZ(0)]
                          hover:[transform:perspective(500px)_translateZ(10px)]
                          hover:shadow-[0_5px_15px_rgba(0,0,0,0.2),0_0_5px_rgba(255,107,0,0.3)]">
                <a href="ftc.html" class="nav-link block relative font-medium text-sm py-1 text-gray-300 transition-all duration-400" data-text="FTC">
                  FTC
                </a>
              </div>
            </div>
            
            <!-- Futuristic Search Bar -->
            <div class="hidden md:flex items-center">
              <div class="tech-search tech-search-clip flex items-center py-1.5 px-3 
                          bg-[rgba(10,10,10,0.4)] border border-[rgba(255,107,0,0.1)] border-l-[3px] border-l-baywatch-orange
                          transition-all duration-300 ease-[cubic-bezier(0.16,1,0.3,1)] w-40
                          focus-within:w-60 focus-within:bg-[rgba(15,15,15,0.7)] focus-within:border-[rgba(255,107,0,0.3)]
                          focus-within:shadow-[0_0_15px_rgba(255,107,0,0.2),inset_0_0_5px_rgba(0,0,0,0.5)]">
                <input id="search-input" type="text" placeholder="SEARCH:/" 
                       class="bg-transparent border-none focus:outline-none text-white text-sm w-full font-mono tracking-wider">
                <button id="search-button" class="text-gray-400 hover:text-baywatch-orange transition-colors" aria-label="Search">
                  <i class="fas fa-search"></i>
                </button>
              </div>
            </div>
            
            <!-- Mobile Menu Button -->
            <div class="md:hidden">
              <button id="mobile-menu-btn" 
                      class="relative p-2 rounded-sm bg-black/40 border border-baywatch-orange/20
                             transition-all duration-300 focus:outline-none">
                <div class="flex flex-col items-center justify-center h-5 w-5 space-y-1">
                  <span class="block h-0.5 w-full bg-baywatch-orange rounded-sm transition-all duration-300"></span>
                  <span class="block h-0.5 w-3/4 ml-auto bg-baywatch-orange rounded-sm transition-all duration-300"></span>
                  <span class="block h-0.5 w-1/2 ml-auto bg-baywatch-orange rounded-sm transition-all duration-300"></span>
                </div>
              </button>
            </div>
          </div>
        </div>
      </nav>
  
      <!-- Mobile Menu Overlay with Tech Styling -->
      <div id="mobile-menu-overlay" class="fixed inset-0 hidden z-40 transition-all duration-300 animate__animated bg-black/95">
        <div class="flex flex-col items-center justify-center h-full px-6">
          <!-- Mobile Search with Tech Styling -->
          <div class="w-full max-w-sm mb-8 mt-16">
            <div class="tech-search-clip flex items-center py-2 px-4 w-full
                        bg-[rgba(10,10,10,0.4)] border border-[rgba(255,107,0,0.1)] border-l-[3px] border-l-baywatch-orange
                        transition-all duration-300">
              <input type="text" id="mobile-search-input" placeholder="SEARCH:/" 
                     class="bg-transparent border-none focus:outline-none text-white w-full font-mono text-sm tracking-wider">
              <button id="mobile-search-button" class="text-gray-400 hover:text-baywatch-orange transition-colors" aria-label="Search">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>
          
          <!-- Tech-styled Mobile Navigation Menu -->
          <div class="w-full max-w-sm mobile-nav-clip overflow-hidden shadow-[0_0_15px_rgba(255,107,0,0.2)] py-2
                      bg-gradient-to-b from-[rgba(15,15,15,0.95)] to-[rgba(10,10,10,0.98)]
                      border border-[rgba(255,107,0,0.2)]">
            <a href="robots.html" class="mobile-nav-item flex items-center space-x-3 px-5 py-4 text-gray-300 hover:text-baywatch-orange
                                         relative overflow-hidden transition-all duration-300 border-b border-b-[rgba(255,107,0,0.05)]">
              <i class="fas fa-robot w-6 text-center"></i>
              <span class="font-mono tracking-wider">ROBOTS</span>
              <span class="ml-auto text-xs text-baywatch-orange opacity-60">01</span>
            </a>
            <a href="sponsors.html" class="mobile-nav-item flex items-center space-x-3 px-5 py-4 text-gray-300 hover:text-baywatch-orange
                                           relative overflow-hidden transition-all duration-300 border-b border-b-[rgba(255,107,0,0.05)]">
              <i class="fas fa-handshake w-6 text-center"></i>
              <span class="font-mono tracking-wider">SPONSORS</span>
              <span class="ml-auto text-xs text-baywatch-orange opacity-60">02</span>
            </a>
            <a href="schedule.html" class="mobile-nav-item flex items-center space-x-3 px-5 py-4 text-gray-300 hover:text-baywatch-orange
                                          relative overflow-hidden transition-all duration-300 border-b border-b-[rgba(255,107,0,0.05)]">
              <i class="fas fa-calendar w-6 text-center"></i>
              <span class="font-mono tracking-wider">SCHEDULE</span>
              <span class="ml-auto text-xs text-baywatch-orange opacity-60">03</span>
            </a>
            <a href="scouting.html" class="mobile-nav-item flex items-center space-x-3 px-5 py-4 text-gray-300 hover:text-baywatch-orange
                                           relative overflow-hidden transition-all duration-300 border-b border-b-[rgba(255,107,0,0.05)]">
              <i class="fas fa-clipboard w-6 text-center"></i>
              <span class="font-mono tracking-wider">SCOUTING</span>
              <span class="ml-auto text-xs text-baywatch-orange opacity-60">04</span>
            </a>
            <a href="ftc.html" class="mobile-nav-item flex items-center space-x-3 px-5 py-4 text-gray-300 hover:text-baywatch-orange
                                      relative overflow-hidden transition-all duration-300">
              <i class="fas fa-cog w-6 text-center"></i>
              <span class="font-mono tracking-wider">FTC</span>
              <span class="ml-auto text-xs text-baywatch-orange opacity-60">05</span>
            </a>
          </div>
        </div>
      </div>
  
      <!-- Enhanced Mobile Menu Toggle Script -->
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const navbar = document.getElementById('navbar');
          const navbarInner = document.querySelector('.tech-nav');
          const menuBtn = document.getElementById('mobile-menu-btn');
          const menuBtnSpans = menuBtn.querySelectorAll('span');
          const mobileMenu = document.getElementById('mobile-menu-overlay');
          const navLinks = document.querySelectorAll('.nav-link');
          let menuOpen = false;
          
          // Handle scroll behavior
          window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
              navbar.classList.add('top-3', 'md:top-3');
              navbarInner.classList.add('scrolled');
            } else {
              navbar.classList.remove('top-3', 'md:top-3');
              navbarInner.classList.remove('scrolled');
            }
          });
          
          // Add active class to current page
          const currentPath = window.location.pathname;
          navLinks.forEach(link => {
            const href = link.getAttribute('href');
            if ((currentPath.includes(href) && href !== 'index.html') || 
                (currentPath === '/' && href === 'index.html' || currentPath.endsWith('index.html'))) {
              link.classList.add('active');
            }
          });
  
          // Mobile menu toggle with enhanced animations
          menuBtn.addEventListener('click', () => {
            menuOpen = !menuOpen;
  
            if (menuOpen) {
              // Show menu with slide-down effect
              mobileMenu.classList.remove('hidden');
              mobileMenu.classList.remove('animate__fadeOutUp');
              mobileMenu.classList.add('animate__fadeInDown');
              
              // Animate hamburger to X
              menuBtnSpans[0].style.transform = 'rotate(45deg) translate(2px, 6px)';
              menuBtnSpans[1].style.opacity = '0';
              menuBtnSpans[2].style.transform = 'rotate(-45deg) translate(-5px, 4px)';
              menuBtnSpans[0].style.width = '100%';
              menuBtnSpans[2].style.width = '100%';
              
              menuBtn.style.borderColor = 'rgba(255, 107, 0, 0.4)';
              menuBtn.style.background = 'rgba(255, 107, 0, 0.1)';
            } else {
              // Animate hide menu
              mobileMenu.classList.remove('animate__fadeInDown');
              mobileMenu.classList.add('animate__fadeOutUp');
              
              // Animate X back to hamburger
              menuBtnSpans[0].style.transform = 'none';
              menuBtnSpans[1].style.opacity = '1';
              menuBtnSpans[2].style.transform = 'none';
              menuBtnSpans[0].style.width = '100%';
              menuBtnSpans[1].style.width = '75%';
              menuBtnSpans[2].style.width = '50%';
              
              menuBtn.style.borderColor = 'rgba(255, 107, 0, 0.2)';
              menuBtn.style.background = 'rgba(0, 0, 0, 0.4)';
              
              // After animation, add hidden class
              setTimeout(() => {
                mobileMenu.classList.add('hidden');
              }, 500);
            }
          });
        });
      </script>

    <!-- Search Functionality -->
    <script>
      // This script will be replaced by search.js functionality
      // Keeping it as a fallback until search.js fully loads
      document.addEventListener('DOMContentLoaded', function() {
        // Check if search.js has initialized
        if (typeof setupGlobalSearch !== 'function') {
          // Handle desktop search
          const searchInput = document.getElementById('search-input');
          const searchButton = document.getElementById('search-button');
          
          // Handle mobile search
          const mobileSearchInput = document.getElementById('mobile-search-input');
          const mobileSearchButton = document.getElementById('mobile-search-button');
          
          // Function to process search
          function handleSearch(searchTerm) {
            if (!searchTerm) return;
            
            searchTerm = searchTerm.trim().toLowerCase();
            
            // Check if input consists of ONLY digits (team number)
            if (/^\d+$/.test(searchTerm)) {
              // It's a team number
              window.location.href = `team.html?team=${searchTerm}`;
            } 
            // Otherwise, perform a search
            else {
              window.location.href = `search-results.html?q=${encodeURIComponent(searchTerm)}`;
            }
          }
          
          // Desktop search listeners
          if (searchButton) {
            searchButton.addEventListener('click', function() {
              handleSearch(searchInput.value);
            });
          }
          
          if (searchInput) {
            searchInput.addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                handleSearch(searchInput.value);
              }
            });
          }
          
          // Mobile search listeners
          if (mobileSearchButton) {
            mobileSearchButton.addEventListener('click', function() {
              handleSearch(mobileSearchInput.value);
            });
          }
          
          if (mobileSearchInput) {
            mobileSearchInput.addEventListener('keypress', function(e) {
              if (e.key === 'Enter') {
                handleSearch(mobileSearchInput.value);
              }
            });
          }
        }
      });
    </script>

    <!-- Hero Section -->
    <section class="pt-32 pb-16 relative z-10">
      <div class="container mx-auto px-6">
        <h1 class="text-5xl md:text-7xl font-bold text-center">
          <span id="event-city" class="text-white inline-block animate__animated animate__fadeInUp" style="animation-delay: 0.2s">Loading</span>
          <span id="event-type" class="text-baywatch-orange glow-orange inline-block animate__animated animate__fadeInUp" style="animation-delay: 0.4s">Event</span>
        </h1>
        <p id="event-details" class="text-gray-400 text-center mt-4 max-w-2xl mx-auto animate__animated animate__fadeInUp" style="animation-delay: 0.6s">
          Loading event information...
        </p>
        <div class="flex justify-center mt-6 gap-4 lex-wrap">
          <a id="event-watch-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center text-[#A970FF] bg-[#6441A4]/20 hover:bg-[#6441A4]/30 transition-colors duration-300 px-4 py-2 rounded-lg">
            <i class="fab fa-twitch mr-2"></i> Watch Live
          </a>
          <a id="event-scouting-link" href="#" class="inline-flex items-center text-baywatch-orange bg-baywatch-orange/20 hover:bg-baywatch-orange/40 transition-all duration-300 px-4 py-2 rounded-lg border border-baywatch-orange/30 hover:border-baywatch-orange hover:scale-105 hover:shadow-md hover:shadow-baywatch-orange/20">
            <i class="fas fa-clipboard-list mr-2"></i> Team Scouting <i class="fas fa-chevron-right ml-1 text-xs opacity-70"></i>
          </a>
          <a href="schedule.html" class="inline-flex items-center text-gray-300 bg-gray-800/50 hover:bg-gray-800/70 transition-colors duration-300 px-4 py-2 rounded-lg">
            <i class="fas fa-calendar-days mr-2"></i> All Events
          </a>
        </div>
      </div>
    </section>

    <!-- Loading Overlay - Shows while event data is loading -->
    <div id="loading-overlay" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center">
      <div class="text-center">
        <div class="w-16 h-16 border-4 border-baywatch-orange/30 border-t-baywatch-orange rounded-full animate-spin mx-auto mb-4"></div>
        <h2 class="text-xl font-bold text-baywatch-orange">Loading Event Data</h2>
        <p class="text-gray-400 mt-2">Retrieving information from The Blue Alliance</p>
      </div>
    </div>
    </div>

    <!-- Main Content Container - Helps maintain proper document flow -->
    <main class="flex-grow">
      <!-- Teams Section (For upcoming events) -->
      <section id="teams-section" class="py-16 relative z-10 hidden">
        <!-- Event Countdown Header -->
        <div id="event-countdown" class="container mx-auto px-6 mb-12">
          <div class="card-gradient rounded-xl p-6">
            <h2 class="text-2xl font-bold text-center mb-4">Event Begins In</h2>
            <div class="flex justify-center gap-4 md:gap-8">
              <div class="flex flex-col items-center">
                <div id="days-value" class="text-4xl md:text-6xl font-bold text-baywatch-orange">--</div>
                <div class="text-gray-400 text-sm md:text-base">Days</div>
              </div>
              <div class="text-2xl md:text-4xl text-gray-500 self-center">:</div>
              <div class="flex flex-col items-center">
                <div id="hours-value" class="text-4xl md:text-6xl font-bold text-baywatch-orange">--</div>
                <div class="text-gray-400 text-sm md:text-base">Hours</div>
              </div>
              <div class="text-2xl md:text-4xl text-gray-500 self-center">:</div>
              <div class="flex flex-col items-center">
                <div id="minutes-value" class="text-4xl md:text-6xl font-bold text-baywatch-orange">--</div>
                <div class="text-gray-400 text-sm md:text-base">Minutes</div>
              </div>
              <div class="text-2xl md:text-4xl text-gray-500 self-center">:</div>
              <div class="flex flex-col items-center">
                <div id="seconds-value" class="text-4xl md:text-6xl font-bold text-baywatch-orange">--</div>
                <div class="text-gray-400 text-sm md:text-base">Seconds</div>
              </div>
            </div>
            <p class="text-center text-gray-400 mt-4 text-sm">Live competition data will be available once the event begins</p>
          </div>
        </div>
        
        <!-- Teams List -->
        <div class="container mx-auto px-6 mb-12"> <!-- Added bottom margin -->
          <h2 class="text-3xl font-bold mb-2 text-center">Registered Teams</h2>
          <p class="text-gray-400 text-center mb-8">
            <span id="team-count">0</span> teams competing at this event
          </p>
          <div id="teams-container" class="animate__animated animate__fadeIn">
            <div class="flex justify-center">
              <div class="w-16 h-16 border-4 border-baywatch-orange/30 border-t-baywatch-orange rounded-full animate-spin"></div>
            </div>
          </div>
        </div>
      </section>

      <!-- Competition Data Sections Container -->
      <div id="competition-data-container">
        <!-- Tab Navigation - Modified for mobile responsiveness -->
        <div class="container mx-auto px-6 mb-2 mt-16">
          <div class="border-b border-gray-700 flex justify-center sm:justify-start">
            <button id="tab-rankings" class="tab-button tab-active py-3 px-3 sm:px-6 font-medium focus:outline-none">
              <i class="fas fa-trophy mr-0 sm:mr-2"></i>
              <span class="tab-text hidden sm:inline">Rankings</span>
            </button>
            <button id="tab-schedule" class="tab-button py-3 px-3 sm:px-6 font-medium focus:outline-none">
              <i class="fas fa-calendar-days mr-0 sm:mr-2"></i>
              <span class="tab-text hidden sm:inline">Schedule</span>
            </button>
            <button id="tab-playoff" class="tab-button py-3 px-3 sm:px-6 font-medium focus:outline-none">
              <i class="fas fa-medal mr-0 sm:mr-2"></i>
              <span class="tab-text hidden sm:inline">Playoffs</span>
            </button>
          </div>
        </div>

        <!-- Rankings Section (For active/completed events) -->
        <section id="rankings-section" class="tab-content py-8 relative z-10">
          <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold mb-8 text-center">Team Rankings</h2>
            <div class="card-gradient rounded-xl p-6">
              <div class="overflow-x-auto">
                <table class="min-w-full table-auto" id="rankings-table">
                  <thead>
                    <tr class="text-left">
                      <th class="p-4 text-baywatch-orange">Rank</th>
                      <th class="p-4 text-baywatch-orange">Team</th>
                      <th class="p-4 text-baywatch-orange">Name</th>
                      <th class="p-4 text-baywatch-orange">Record (W-L-T)</th>
                      <th class="p-4 text-baywatch-orange">Ranking Points</th>
                    </tr>
                  </thead>
                  <tbody class="text-gray-300">
                    <tr><td colspan="6" class="p-4 text-center">Loading rankings...</td></tr>
                  </tbody>
                </table>
                <!-- The toggle button will be added dynamically by JavaScript -->
              </div>
            </div>
          </div>
        </section>

        <!-- Match Schedule Section (For active/completed events) -->
        <section id="schedule-section" class="tab-content py-8 relative z-10 hidden">
          <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold mb-8 text-center">Match Schedule</h2>
            <div class="card-gradient rounded-xl p-6">
              <div class="overflow-x-auto">
                <table class="min-w-full table-auto" id="schedule-table">
                  <thead>
                    <tr class="text-left">
                      <th class="p-4 text-baywatch-orange">Match</th>
                      <th class="p-4 text-baywatch-orange">Blue Alliance</th>
                      <th class="p-4 text-baywatch-orange">Red Alliance</th>
                      <th class="p-4 text-baywatch-orange">Score</th>
                    </tr>
                  </thead>
                  <tbody class="text-gray-300">
                    <tr><td colspan="4" class="p-4 text-center">Loading schedule...</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </section>

        <!-- Playoff Bracket Section (For active/completed events) -->
        <section id="playoff-section" class="tab-content py-8 relative z-10 hidden">
          <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold mb-8 text-center">Playoff Bracket</h2>
            <div class="card-gradient rounded-xl p-6 overflow-x-auto">
              <!-- Double Elimination Bracket -->
              <div class="min-w-[1200px] relative">
                <!-- Winners Bracket -->
                <div class="bracket-container">
                  <div class="grid grid-cols-4 gap-8">
                    <!-- First Round -->
                    <div class="space-y-8">
                      <div class="match-box group" id="match-sf1">
                        <div class="match-number">Match 1</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group" id="match-sf2">
                        <div class="match-number">Match 2</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group" id="match-sf3">
                        <div class="match-number">Match 3</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group" id="match-sf4">
                        <div class="match-number">Match 4</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Second Round Winners -->
                    <div style="margin-top: 8rem;">
                      <div class="match-box group" id="match-sf7">
                        <div class="match-number">Match 7</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <!-- Increased margin-top from 3rem to 8rem -->
                      <div class="match-box group" id="match-sf8" style="margin-top: 17rem;">
                        <div class="match-number">Match 8</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Third Round Winners -->
                    <div style="margin-top: 23rem">
                      <div class="match-box group" id="match-sf11">
                        <div class="match-number">Match 11</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Finals -->
                    <div style="margin-top: 23rem">
                      <div class="match-box group finals-match" id="match-f1">
                        <div class="match-number">Finals 1</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group finals-match mt-4" id="match-f2">
                        <div class="match-number">Finals 2</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group finals-match mt-4" id="match-f3">
                        <div class="match-number">Finals 3</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                
                <!-- Bracket Divider -->
                <div class="my-16 relative">
                  <div class="absolute inset-0 flex items-center" aria-hidden="true">
                    <div class="w-full border-t border-gray-700 bg-gradient-to-r from-transparent via-baywatch-orange to-transparent opacity-30"></div>
                  </div>
                  <div class="relative flex justify-center">
                    <span class="px-4 py-1 text-sm text-baywatch-orange bg-black rounded-full border border-baywatch-orange/30">Elimination Bracket</span>
                  </div>
                </div>
                
                <!-- Losers Bracket -->
                <div class="bracket-container mt-48">
                  <div class="grid grid-cols-4 gap-8">
                    <!-- First Round Losers -->
                    <div class="space-y-8" style="margin-top: -8rem">
                      <div class="match-box group" id="match-sf5">
                        <div class="match-number">Match 5</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group" id="match-sf6">
                        <div class="match-number">Match 6</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Second Round Losers: reduce top margin to move SF9 and SF10 up -->
                    <div class="space-y-8" style="margin-top: -8rem">
                      <!-- Order remains: SF10 then SF9 as before -->
                      <div class="match-box group" id="match-sf10">
                        <div class="match-number">Match 10</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                      <div class="match-box group" id="match-sf9">
                        <div class="match-number">Match 9</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                    <!-- Third Round Losers -->
                    <div class="mt-24" style="margin-top: 0rem;">
                      <div class="match-box group" id="match-sf12">
                        <div class="match-number">Match 12</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Fourth Round Losers -->
                    <div class="mt-24" style="margin-top: 0rem;">
                      <div class="match-box group" id="match-sf13">
                        <div class="match-number">Match 13</div>
                        <div class="alliance-container">
                          <div class="alliance blue">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                          <div class="match-divider border-t border-gray-700/50"></div>
                          <div class="alliance red">
                            <span class="teams"></span>
                            <span class="score"></span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Tab Navigation Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Get tab buttons and content sections
        const tabButtons = document.querySelectorAll('.tab-button');
        const tabContents = document.querySelectorAll('.tab-content');
        
        // Add tooltip data for mobile view
        document.getElementById('tab-rankings').setAttribute('data-tooltip', 'Rankings');
        document.getElementById('tab-schedule').setAttribute('data-tooltip', 'Schedule');
        document.getElementById('tab-playoff').setAttribute('data-tooltip', 'Playoffs');
        
        // Add click event listeners to each tab button
        tabButtons.forEach(button => {
          button.addEventListener('click', function() {
            // Remove active class from all buttons
            tabButtons.forEach(btn => {
              btn.classList.remove('tab-active');
              btn.classList.remove('tab-clicked');
            });
            
            // Add "clicked" class for ripple effect animation
            this.classList.add('tab-clicked');
            
            // After a short delay, add the active class to allow ripple to display first
            setTimeout(() => {
              this.classList.add('tab-active');
            }, 150);
            
            // Hide all content sections first
            tabContents.forEach(content => {
              content.classList.add('hidden');
              content.classList.remove('active');
            });
            
            // Show corresponding content based on button id with animation
            const tabId = this.id.replace('tab-', '');
            const activeContent = document.getElementById(`${tabId}-section`);
            
            if (activeContent) {
              // Remove hidden class first
              activeContent.classList.remove('hidden');
              
              // Force a reflow to ensure the transition happens
              void activeContent.offsetWidth;
              
              // Then add active class for animation
              activeContent.classList.add('active');
              
              // Animate content inside the tab with staggered timing
              const animatableElements = activeContent.querySelectorAll('h2, .card-gradient, table, .bracket-container');
              animatableElements.forEach((el, index) => {
                el.style.animation = `fadeInUp 0.5s ease forwards ${0.1 + (index * 0.1)}s`;
                el.style.opacity = '0';
              });
            }
            
            // Remove the clicked class after animation completes
            setTimeout(() => {
              this.classList.remove('tab-clicked');
            }, 600);
          });
        });
        
        // Function to set the active tab from URL hash if present
        function setActiveTabFromHash() {
          const hash = window.location.hash.substring(1); // Remove the # character
          if (hash === 'schedule' || hash === 'playoff' || hash === 'rankings') {
            // Simulate click on the appropriate tab
            document.getElementById(`tab-${hash}`).click();
          } else if (hash === 'playoffs') {
            // Handle plural form as well (for backward compatibility)
            document.getElementById('tab-playoff').click();
          } else {
            // If no hash, activate the first tab by default
            document.getElementById('tab-rankings').click();
          }
        }
        
        // Set active tab when page loads
        setActiveTabFromHash();
        
        // Listen for hash changes
        window.addEventListener('hashchange', setActiveTabFromHash);
      });
    </script>
    
    <!-- Event Page Script -->
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        // Parse URL parameters to get event code
        const urlParams = new URLSearchParams(window.location.search);
        let eventCode = urlParams.get('event');
        
        // Default event codes for direct page access without parameters
        const currentPath = window.location.pathname;
        if (!eventCode) {
          if (currentPath.includes('milac.html')) {
            eventCode = '2025milac';
          } else if (currentPath.includes('mitvc.html')) {
            eventCode = '2025mitvc';
          } else {
            // Default fallback if no event specified
            eventCode = '2025milac';
          }
        } else {
          // Check if the event code is missing a year prefix (e.g., just "milac" instead of "2025milac")
          if (!/^\d{4}/.test(eventCode)) {
            // Add default year 2025 if no year is specified
            eventCode = `2025${eventCode}`;
          }
        }
        
        // Set up the scouting link to point to the scouting page with this event code
        const scoutingLink = document.getElementById('event-scouting-link');
        if (scoutingLink) {
          scoutingLink.href = `scouting.html?event=${eventCode}`;
          
          // Add click event listener to ensure the link works properly
          scoutingLink.addEventListener('click', function(e) {
            window.location.href = `scouting.html?event=${eventCode}`;
          });
          
          // Make the link more prominent with a subtle animation
          setTimeout(() => {
            scoutingLink.classList.add('animate__animated', 'animate__pulse');
          }, 1500);
        }
        
        // Set page history state for proper back button behavior
        // This prevents issues when redirecting from legacy URLs
        if (window.history && window.history.replaceState) {
          const newUrl = `event.html?event=${eventCode}`;
          // Preserve hash if it exists
          const hash = window.location.hash;
          window.history.replaceState({}, '', newUrl + hash);
        }
        
        // Use the prepareEventPage function to load event data appropriately
        prepareEventPage(eventCode);
      });
    </script>
  </body>
</html>